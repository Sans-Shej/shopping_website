{"ast":null,"code":"// Utilities\nimport { h, Transition, TransitionGroup } from 'vue';\nimport { genericComponent } from \"../../util/index.mjs\"; // Types\n\nexport function createCssTransition(name) {\n  let origin = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'center center';\n  let mode = arguments.length > 2 ? arguments[2] : undefined;\n  return genericComponent()({\n    name,\n    props: {\n      disabled: Boolean,\n      group: Boolean,\n      hideOnLeave: Boolean,\n      leaveAbsolute: Boolean,\n      mode: {\n        type: String,\n        default: mode\n      },\n      origin: {\n        type: String,\n        default: origin\n      }\n    },\n\n    setup(props, _ref) {\n      let {\n        slots\n      } = _ref;\n      const functions = {\n        onBeforeEnter(el) {\n          el.style.transformOrigin = props.origin;\n        },\n\n        onLeave(el) {\n          if (props.leaveAbsolute) {\n            const {\n              offsetTop,\n              offsetLeft,\n              offsetWidth,\n              offsetHeight\n            } = el;\n            el._transitionInitialStyles = {\n              position: el.style.position,\n              top: el.style.top,\n              left: el.style.left,\n              width: el.style.width,\n              height: el.style.height\n            };\n            el.style.position = 'absolute';\n            el.style.top = `${offsetTop}px`;\n            el.style.left = `${offsetLeft}px`;\n            el.style.width = `${offsetWidth}px`;\n            el.style.height = `${offsetHeight}px`;\n          }\n\n          if (props.hideOnLeave) {\n            el.style.setProperty('display', 'none', 'important');\n          }\n        },\n\n        onAfterLeave(el) {\n          if (props.leaveAbsolute && el?._transitionInitialStyles) {\n            const {\n              position,\n              top,\n              left,\n              width,\n              height\n            } = el._transitionInitialStyles;\n            delete el._transitionInitialStyles;\n            el.style.position = position || '';\n            el.style.top = top || '';\n            el.style.left = left || '';\n            el.style.width = width || '';\n            el.style.height = height || '';\n          }\n        }\n\n      };\n      return () => {\n        const tag = props.group ? TransitionGroup : Transition;\n        return h(tag, {\n          name: props.disabled ? '' : name,\n          css: !props.disabled,\n          ...(props.group ? undefined : {\n            mode: props.mode\n          }),\n          ...(props.disabled ? {} : functions)\n        }, slots.default);\n      };\n    }\n\n  });\n}\nexport function createJavascriptTransition(name, functions) {\n  let mode = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'in-out';\n  return genericComponent()({\n    name,\n    props: {\n      mode: {\n        type: String,\n        default: mode\n      },\n      disabled: Boolean\n    },\n\n    setup(props, _ref2) {\n      let {\n        slots\n      } = _ref2;\n      return () => {\n        return h(Transition, {\n          name: props.disabled ? '' : name,\n          css: !props.disabled,\n          // mode: props.mode, // TODO: vuejs/vue-next#3104\n          ...(props.disabled ? {} : functions)\n        }, slots.default);\n      };\n    }\n\n  });\n}","map":{"version":3,"mappings":"AAAA;AACA,SAASA,CAAT,EAAYC,UAAZ,EAAwBC,eAAxB,QAA+C,KAA/C;AAAoD,SAC3CC,gBAD2C,QAC3B,sBAD2B,C,CAGpD;;AAGA,OAAO,SAASC,mBAAT,CACLC,IADK,EAIL;EAAA,IAFAC,MAAM,uEAAG,eAET;EAFwB,IACxBC,IAAa,kDADW;EAGxB,OAAOJ,gBAAgB,GAAG;IACxBE,IADwB;IAGxBG,KAAK,EAAE;MACLC,QAAQ,EAAEC,OADL;MAELC,KAAK,EAAED,OAFF;MAGLE,WAAW,EAAEF,OAHR;MAILG,aAAa,EAAEH,OAJV;MAKLH,IAAI,EAAE;QACJO,IAAI,EAAEC,MADF;QAEJC,OAAO,EAAET;MAFL,CALD;MASLD,MAAM,EAAE;QACNQ,IAAI,EAAEC,MADA;QAENC,OAAO,EAAEV;MAFH;IATH,CAHiB;;IAkBxBW,KAAKA,CAAET,KAAFS,EAAOC,IAAPD,EAAoB;MAAA,IAAX;QAAEE;MAAF,IAASD,IAAE;MACvB,MAAME,SAAS,GAAG;QAChBC,aAAaA,CAAEC,EAAFD,EAAmB;UAC9BC,EAAE,CAACC,KAAHD,CAASE,eAATF,GAA2Bd,KAAK,CAACF,MAAjCgB;QACD,CAHe;;QAIhBG,OAAOA,CAAEH,EAAFG,EAAmB;UACxB,IAAIjB,KAAK,CAACK,aAAV,EAAyB;YACvB,MAAM;cAAEa,SAAF;cAAaC,UAAb;cAAyBC,WAAzB;cAAsCC;YAAtC,IAAuDP,EAA7D;YACAA,EAAE,CAACQ,wBAAHR,GAA8B;cAC5BS,QAAQ,EAAET,EAAE,CAACC,KAAHD,CAASS,QADS;cAE5BC,GAAG,EAAEV,EAAE,CAACC,KAAHD,CAASU,GAFc;cAG5BC,IAAI,EAAEX,EAAE,CAACC,KAAHD,CAASW,IAHa;cAI5BC,KAAK,EAAEZ,EAAE,CAACC,KAAHD,CAASY,KAJY;cAK5BC,MAAM,EAAEb,EAAE,CAACC,KAAHD,CAASa;YALW,CAA9Bb;YAOAA,EAAE,CAACC,KAAHD,CAASS,QAATT,GAAoB,UAApBA;YACAA,EAAE,CAACC,KAAHD,CAASU,GAATV,GAAgB,GAAEI,SAAU,IAA5BJ;YACAA,EAAE,CAACC,KAAHD,CAASW,IAATX,GAAiB,GAAEK,UAAW,IAA9BL;YACAA,EAAE,CAACC,KAAHD,CAASY,KAATZ,GAAkB,GAAEM,WAAY,IAAhCN;YACAA,EAAE,CAACC,KAAHD,CAASa,MAATb,GAAmB,GAAEO,YAAa,IAAlCP;UACF;;UAEA,IAAId,KAAK,CAACI,WAAV,EAAuB;YACrBU,EAAE,CAACC,KAAHD,CAASc,WAATd,CAAqB,SAArBA,EAAgC,MAAhCA,EAAwC,WAAxCA;UACF;QACD,CAxBe;;QAyBhBe,YAAYA,CAAEf,EAAFe,EAAmB;UAC7B,IAAI7B,KAAK,CAACK,aAANL,IAAuBc,EAAE,EAAEQ,wBAA/B,EAAyD;YACvD,MAAM;cAAEC,QAAF;cAAYC,GAAZ;cAAiBC,IAAjB;cAAuBC,KAAvB;cAA8BC;YAA9B,IAAyCb,EAAE,CAACQ,wBAAlD;YACA,OAAOR,EAAE,CAACQ,wBAAV;YACAR,EAAE,CAACC,KAAHD,CAASS,QAATT,GAAoBS,QAAQ,IAAI,EAAhCT;YACAA,EAAE,CAACC,KAAHD,CAASU,GAATV,GAAeU,GAAG,IAAI,EAAtBV;YACAA,EAAE,CAACC,KAAHD,CAASW,IAATX,GAAgBW,IAAI,IAAI,EAAxBX;YACAA,EAAE,CAACC,KAAHD,CAASY,KAATZ,GAAiBY,KAAK,IAAI,EAA1BZ;YACAA,EAAE,CAACC,KAAHD,CAASa,MAATb,GAAkBa,MAAM,IAAI,EAA5Bb;UACF;QACF;;MAnCgB,CAAlB;MAsCA,OAAO,MAAM;QACX,MAAMgB,GAAG,GAAG9B,KAAK,CAACG,KAANH,GAAcN,eAAdM,GAAgCP,UAA5C;QAEA,OAAOD,CAAC,CAACsC,GAAD,EAA6B;UACnCjC,IAAI,EAAEG,KAAK,CAACC,QAAND,GAAiB,EAAjBA,GAAsBH,IADO;UAEnCkC,GAAG,EAAE,CAAC/B,KAAK,CAACC,QAFuB;UAGnC,IAAID,KAAK,CAACG,KAANH,GAAcgC,SAAdhC,GAA0B;YAAED,IAAI,EAAEC,KAAK,CAACD;UAAd,CAA9B,CAHmC;UAInC,IAAIC,KAAK,CAACC,QAAND,GAAiB,EAAjBA,GAAsBY,SAA1B;QAJmC,CAA7B,EAKLD,KAAK,CAACH,OALD,CAAR;MAMD,CATD;IAUF;;EAnEwB,CAAH,CAAvB;AAqEF;AAEA,OAAO,SAASyB,0BAAT,CACLpC,IADK,EAELe,SAFK,EAIL;EAAA,IADAb,IAAI,uEAAG,QACP;EACA,OAAOJ,gBAAgB,GAAG;IACxBE,IADwB;IAGxBG,KAAK,EAAE;MACLD,IAAI,EAAE;QACJO,IAAI,EAAEC,MADF;QAEJC,OAAO,EAAET;MAFL,CADD;MAKLE,QAAQ,EAAEC;IALL,CAHiB;;IAWxBO,KAAKA,CAAET,KAAFS,EAAOyB,KAAPzB,EAAoB;MAAA,IAAX;QAAEE;MAAF,IAASuB,KAAE;MACvB,OAAO,MAAM;QACX,OAAO1C,CAAC,CAACC,UAAD,EAAa;UACnBI,IAAI,EAAEG,KAAK,CAACC,QAAND,GAAiB,EAAjBA,GAAsBH,IADT;UAEnBkC,GAAG,EAAE,CAAC/B,KAAK,CAACC,QAFO;UAGnB;UACA,IAAID,KAAK,CAACC,QAAND,GAAiB,EAAjBA,GAAsBY,SAA1B;QAJmB,CAAb,EAKLD,KAAK,CAACH,OALD,CAAR;MAMD,CAPD;IAQF;;EApBwB,CAAH,CAAvB;AAsBF","names":["h","Transition","TransitionGroup","genericComponent","createCssTransition","name","origin","mode","props","disabled","Boolean","group","hideOnLeave","leaveAbsolute","type","String","default","setup","_ref","slots","functions","onBeforeEnter","el","style","transformOrigin","onLeave","offsetTop","offsetLeft","offsetWidth","offsetHeight","_transitionInitialStyles","position","top","left","width","height","setProperty","onAfterLeave","tag","css","undefined","createJavascriptTransition","_ref2"],"sources":["../../../src/components/transitions/createTransition.ts"],"sourcesContent":["// Utilities\nimport { h, Transition, TransitionGroup } from 'vue'\nimport { genericComponent } from '@/util'\n\n// Types\nimport type { FunctionalComponent, PropType } from 'vue'\n\nexport function createCssTransition (\n  name: string,\n  origin = 'center center',\n  mode?: string\n) {\n  return genericComponent()({\n    name,\n\n    props: {\n      disabled: Boolean,\n      group: Boolean,\n      hideOnLeave: Boolean,\n      leaveAbsolute: Boolean,\n      mode: {\n        type: String,\n        default: mode,\n      },\n      origin: {\n        type: String,\n        default: origin,\n      },\n    },\n\n    setup (props, { slots }) {\n      const functions = {\n        onBeforeEnter (el: HTMLElement) {\n          el.style.transformOrigin = props.origin\n        },\n        onLeave (el: HTMLElement) {\n          if (props.leaveAbsolute) {\n            const { offsetTop, offsetLeft, offsetWidth, offsetHeight } = el\n            el._transitionInitialStyles = {\n              position: el.style.position,\n              top: el.style.top,\n              left: el.style.left,\n              width: el.style.width,\n              height: el.style.height,\n            }\n            el.style.position = 'absolute'\n            el.style.top = `${offsetTop}px`\n            el.style.left = `${offsetLeft}px`\n            el.style.width = `${offsetWidth}px`\n            el.style.height = `${offsetHeight}px`\n          }\n\n          if (props.hideOnLeave) {\n            el.style.setProperty('display', 'none', 'important')\n          }\n        },\n        onAfterLeave (el: HTMLElement) {\n          if (props.leaveAbsolute && el?._transitionInitialStyles) {\n            const { position, top, left, width, height } = el._transitionInitialStyles\n            delete el._transitionInitialStyles\n            el.style.position = position || ''\n            el.style.top = top || ''\n            el.style.left = left || ''\n            el.style.width = width || ''\n            el.style.height = height || ''\n          }\n        },\n      }\n\n      return () => {\n        const tag = props.group ? TransitionGroup : Transition\n\n        return h(tag as FunctionalComponent, {\n          name: props.disabled ? '' : name,\n          css: !props.disabled,\n          ...(props.group ? undefined : { mode: props.mode }),\n          ...(props.disabled ? {} : functions),\n        }, slots.default)\n      }\n    },\n  })\n}\n\nexport function createJavascriptTransition (\n  name: string,\n  functions: Record<string, any>,\n  mode = 'in-out'\n) {\n  return genericComponent()({\n    name,\n\n    props: {\n      mode: {\n        type: String as PropType<'in-out' | 'out-in' | 'default'>,\n        default: mode,\n      },\n      disabled: Boolean,\n    },\n\n    setup (props, { slots }) {\n      return () => {\n        return h(Transition, {\n          name: props.disabled ? '' : name,\n          css: !props.disabled,\n          // mode: props.mode, // TODO: vuejs/vue-next#3104\n          ...(props.disabled ? {} : functions),\n        }, slots.default)\n      }\n    },\n  })\n}\n"]},"metadata":{},"sourceType":"module"}