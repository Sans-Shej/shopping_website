{"ast":null,"code":"import { vShow as _vShow, withDirectives as _withDirectives, resolveDirective as _resolveDirective, createVNode as _createVNode } from \"vue\"; // Styles\n\nimport \"./VSliderThumb.css\"; // Components\n\nimport { VScaleTransition } from \"../transitions/index.mjs\";\nimport { VSliderSymbol } from \"./slider.mjs\"; // Directives\n\nimport Ripple from \"../../directives/ripple/index.mjs\"; // Composables\n\nimport { useElevation } from \"../../composables/elevation.mjs\";\nimport { useTextColor } from \"../../composables/color.mjs\"; // Utilities\n\nimport { computed, inject } from 'vue';\nimport { convertToUnit, genericComponent, keyValues, useRender } from \"../../util/index.mjs\";\nexport const VSliderThumb = genericComponent()({\n  name: 'VSliderThumb',\n  directives: {\n    Ripple\n  },\n  props: {\n    focused: Boolean,\n    max: {\n      type: Number,\n      required: true\n    },\n    min: {\n      type: Number,\n      required: true\n    },\n    modelValue: {\n      type: Number,\n      required: true\n    },\n    position: {\n      type: Number,\n      required: true\n    },\n    ripple: {\n      type: Boolean,\n      default: true\n    }\n  },\n  emits: {\n    'update:modelValue': v => true\n  },\n\n  setup(props, _ref) {\n    let {\n      slots,\n      emit\n    } = _ref;\n    const slider = inject(VSliderSymbol);\n    if (!slider) throw new Error('[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider');\n    const {\n      thumbColor,\n      step,\n      vertical,\n      disabled,\n      thumbSize,\n      thumbLabel,\n      direction,\n      readonly,\n      elevation,\n      isReversed,\n      horizontalDirection,\n      mousePressed,\n      decimals\n    } = slider;\n    const {\n      textColorClasses,\n      textColorStyles\n    } = useTextColor(thumbColor);\n    const {\n      pageup,\n      pagedown,\n      end,\n      home,\n      left,\n      right,\n      down,\n      up\n    } = keyValues;\n    const relevantKeys = [pageup, pagedown, end, home, left, right, down, up];\n    const multipliers = computed(() => {\n      if (step.value) return [1, 2, 3];else return [1, 5, 10];\n    });\n\n    function parseKeydown(e, value) {\n      if (!relevantKeys.includes(e.key)) return;\n      e.preventDefault();\n\n      const _step = step.value || 0.1;\n\n      const steps = (props.max - props.min) / _step;\n\n      if ([left, right, down, up].includes(e.key)) {\n        const increase = horizontalDirection.value === 'rtl' ? [left, up] : [right, up];\n        const direction = increase.includes(e.key) ? 1 : -1;\n        const multiplier = e.shiftKey ? 2 : e.ctrlKey ? 1 : 0;\n        value = value + direction * _step * multipliers.value[multiplier];\n      } else if (e.key === home) {\n        value = props.min;\n      } else if (e.key === end) {\n        value = props.max;\n      } else {\n        const direction = e.key === pagedown ? 1 : -1;\n        value = value - direction * _step * (steps > 100 ? steps / 10 : 10);\n      }\n\n      return Math.max(props.min, Math.min(props.max, value));\n    }\n\n    function onKeydown(e) {\n      const newValue = parseKeydown(e, props.modelValue);\n      newValue != null && emit('update:modelValue', newValue);\n    }\n\n    useRender(() => {\n      const positionPercentage = convertToUnit(vertical.value || isReversed.value ? 100 - props.position : props.position, '%');\n      const {\n        elevationClasses\n      } = useElevation(computed(() => !disabled.value ? elevation.value : undefined));\n      return _createVNode(\"div\", {\n        \"class\": ['v-slider-thumb', {\n          'v-slider-thumb--focused': props.focused,\n          'v-slider-thumb--pressed': props.focused && mousePressed.value\n        }],\n        \"style\": {\n          '--v-slider-thumb-position': positionPercentage,\n          '--v-slider-thumb-size': convertToUnit(thumbSize.value)\n        },\n        \"role\": \"slider\",\n        \"tabindex\": disabled.value ? -1 : 0,\n        \"aria-valuemin\": props.min,\n        \"aria-valuemax\": props.max,\n        \"aria-valuenow\": props.modelValue,\n        \"aria-readonly\": readonly.value,\n        \"aria-orientation\": direction.value,\n        \"onKeydown\": !readonly.value ? onKeydown : undefined\n      }, [_createVNode(\"div\", {\n        \"class\": ['v-slider-thumb__surface', textColorClasses.value, elevationClasses.value],\n        \"style\": { ...textColorStyles.value\n        }\n      }, null), _withDirectives(_createVNode(\"div\", {\n        \"class\": ['v-slider-thumb__ripple', textColorClasses.value],\n        \"style\": textColorStyles.value\n      }, null), [[_resolveDirective(\"ripple\"), props.ripple, null, {\n        circle: true,\n        center: true\n      }]]), _createVNode(VScaleTransition, {\n        \"origin\": \"bottom center\"\n      }, {\n        default: () => [_withDirectives(_createVNode(\"div\", {\n          \"class\": \"v-slider-thumb__label-container\"\n        }, [_createVNode(\"div\", {\n          \"class\": ['v-slider-thumb__label']\n        }, [_createVNode(\"div\", null, [slots['thumb-label']?.({\n          modelValue: props.modelValue\n        }) ?? props.modelValue.toFixed(step.value ? decimals.value : 1)])])]), [[_vShow, thumbLabel.value && props.focused || thumbLabel.value === 'always']])]\n      })]);\n    });\n    return {};\n  }\n\n});","map":{"version":3,"mappings":"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","names":["VScaleTransition","VSliderSymbol","Ripple","useElevation","useTextColor","computed","inject","convertToUnit","genericComponent","keyValues","useRender","VSliderThumb","name","directives","props","focused","Boolean","max","type","Number","required","min","modelValue","position","ripple","default","emits","v","setup","_ref","slots","emit","slider","Error","thumbColor","step","vertical","disabled","thumbSize","thumbLabel","direction","readonly","elevation","isReversed","horizontalDirection","mousePressed","decimals","textColorClasses","textColorStyles","pageup","pagedown","end","home","left","right","down","up","relevantKeys","multipliers","value","parseKeydown","e","includes","key","preventDefault","_step","steps","increase","multiplier","shiftKey","ctrlKey","Math","onKeydown","newValue","positionPercentage","elevationClasses","undefined","_withDirectives","circle","center","_createVNode","toFixed"],"sources":["../../../src/components/VSlider/VSliderThumb.tsx"],"sourcesContent":["// Styles\nimport './VSliderThumb.sass'\n\n// Components\nimport { VScaleTransition } from '../transitions'\nimport { VSliderSymbol } from './slider'\n\n// Directives\nimport Ripple from '@/directives/ripple'\n\n// Composables\nimport { useElevation } from '@/composables/elevation'\nimport { useTextColor } from '@/composables/color'\n\n// Utilities\nimport { computed, inject } from 'vue'\nimport { convertToUnit, genericComponent, keyValues, useRender } from '@/util'\n\nexport type VSliderThumbSlots = {\n  'thumb-label': []\n}\n\nexport const VSliderThumb = genericComponent<VSliderThumbSlots>()({\n  name: 'VSliderThumb',\n\n  directives: { Ripple },\n\n  props: {\n    focused: Boolean,\n    max: {\n      type: Number,\n      required: true,\n    },\n    min: {\n      type: Number,\n      required: true,\n    },\n    modelValue: {\n      type: Number,\n      required: true,\n    },\n    position: {\n      type: Number,\n      required: true,\n    },\n    ripple: {\n      type: Boolean,\n      default: true,\n    },\n  },\n\n  emits: {\n    'update:modelValue': (v: number) => true,\n  },\n\n  setup (props, { slots, emit }) {\n    const slider = inject(VSliderSymbol)\n\n    if (!slider) throw new Error('[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider')\n\n    const {\n      thumbColor,\n      step,\n      vertical,\n      disabled,\n      thumbSize,\n      thumbLabel,\n      direction,\n      readonly,\n      elevation,\n      isReversed,\n      horizontalDirection,\n      mousePressed,\n      decimals,\n    } = slider\n\n    const { textColorClasses, textColorStyles } = useTextColor(thumbColor)\n\n    const { pageup, pagedown, end, home, left, right, down, up } = keyValues\n    const relevantKeys = [pageup, pagedown, end, home, left, right, down, up]\n\n    const multipliers = computed(() => {\n      if (step.value) return [1, 2, 3]\n      else return [1, 5, 10]\n    })\n\n    function parseKeydown (e: KeyboardEvent, value: number) {\n      if (!relevantKeys.includes(e.key)) return\n\n      e.preventDefault()\n\n      const _step = step.value || 0.1\n      const steps = (props.max - props.min) / _step\n      if ([left, right, down, up].includes(e.key)) {\n        const increase = horizontalDirection.value === 'rtl' ? [left, up] : [right, up]\n        const direction = increase.includes(e.key) ? 1 : -1\n        const multiplier = e.shiftKey ? 2 : (e.ctrlKey ? 1 : 0)\n\n        value = value + (direction * _step * multipliers.value[multiplier])\n      } else if (e.key === home) {\n        value = props.min\n      } else if (e.key === end) {\n        value = props.max\n      } else {\n        const direction = e.key === pagedown ? 1 : -1\n        value = value - (direction * _step * (steps > 100 ? steps / 10 : 10))\n      }\n\n      return Math.max(props.min, Math.min(props.max, value))\n    }\n\n    function onKeydown (e: KeyboardEvent) {\n      const newValue = parseKeydown(e, props.modelValue)\n\n      newValue != null && emit('update:modelValue', newValue)\n    }\n\n    useRender(() => {\n      const positionPercentage = convertToUnit((vertical.value || isReversed.value) ? 100 - props.position : props.position, '%')\n      const { elevationClasses } = useElevation(computed(() => !disabled.value ? elevation.value : undefined))\n\n      return (\n        <div\n          class={[\n            'v-slider-thumb',\n            {\n              'v-slider-thumb--focused': props.focused,\n              'v-slider-thumb--pressed': props.focused && mousePressed.value,\n            },\n          ]}\n          style={{\n            '--v-slider-thumb-position': positionPercentage,\n            '--v-slider-thumb-size': convertToUnit(thumbSize.value),\n          }}\n          role=\"slider\"\n          tabindex={ disabled.value ? -1 : 0 }\n          aria-valuemin={ props.min }\n          aria-valuemax={ props.max }\n          aria-valuenow={ props.modelValue }\n          aria-readonly={ readonly.value }\n          aria-orientation={ direction.value }\n          onKeydown={ !readonly.value ? onKeydown : undefined }\n        >\n          <div\n            class={[\n              'v-slider-thumb__surface',\n              textColorClasses.value,\n              elevationClasses.value,\n            ]}\n            style={{\n              ...textColorStyles.value,\n            }}\n          />\n          <div\n            class={[\n              'v-slider-thumb__ripple',\n              textColorClasses.value,\n            ]}\n            style={ textColorStyles.value }\n            v-ripple={[props.ripple, null, ['circle', 'center']]}\n          />\n          <VScaleTransition origin=\"bottom center\">\n            <div\n              class=\"v-slider-thumb__label-container\"\n              v-show={ (thumbLabel.value && props.focused) || thumbLabel.value === 'always' }\n            >\n              <div\n                class={[\n                  'v-slider-thumb__label',\n                ]}\n              >\n                <div>\n                  { slots['thumb-label']?.({ modelValue: props.modelValue }) ?? props.modelValue.toFixed(step.value ? decimals.value : 1) }\n                </div>\n              </div>\n            </div>\n          </VScaleTransition>\n        </div>\n      )\n    })\n\n    return {}\n  },\n})\n\nexport type VSliderThumb = InstanceType<typeof VSliderThumb>\n"]},"metadata":{},"sourceType":"module"}