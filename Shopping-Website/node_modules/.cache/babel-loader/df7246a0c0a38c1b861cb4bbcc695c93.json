{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, withModifiers as _withModifiers, openBlock as _openBlock, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-024d905c\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \" Signup \", -1\n/* HOISTED */\n));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_v_text_field = _resolveComponent(\"v-text-field\");\n\n  const _component_v_btn = _resolveComponent(\"v-btn\");\n\n  const _component_v_card = _resolveComponent(\"v-card\");\n\n  const _component_v_container = _resolveComponent(\"v-container\");\n\n  const _component_v_app = _resolveComponent(\"v-app\");\n\n  return _openBlock(), _createBlock(_component_v_app, null, {\n    default: _withCtx(() => [_createElementVNode(\"section\", null, [_createVNode(_component_v_container, {\n      class: \"center-screen\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_v_card, {\n        class: \"container-class\"\n      }, {\n        default: _withCtx(() => [_createElementVNode(\"form\", {\n          onSubmit: _cache[5] || (_cache[5] = _withModifiers((...args) => $options.submit && $options.submit(...args), [\"prevent\"]))\n        }, [_hoisted_1, _createVNode(_component_v_text_field, {\n          modelValue: $setup.name.value.value,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.name.value.value = $event),\n          counter: 30,\n          \"error-messages\": $setup.name.errorMessage.value,\n          label: \"Name\",\n          class: \"textfield\"\n        }, null, 8\n        /* PROPS */\n        , [\"modelValue\", \"error-messages\"]), _createVNode(_component_v_text_field, {\n          modelValue: $setup.phone.value.value,\n          \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.phone.value.value = $event),\n          counter: 10,\n          \"error-messages\": $setup.phone.errorMessage.value,\n          label: \"Username\"\n        }, null, 8\n        /* PROPS */\n        , [\"modelValue\", \"error-messages\"]), _createVNode(_component_v_text_field, {\n          modelValue: $setup.email.value.value,\n          \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.email.value.value = $event),\n          \"error-messages\": $setup.email.errorMessage.value,\n          label: \"E-mail\"\n        }, null, 8\n        /* PROPS */\n        , [\"modelValue\", \"error-messages\"]), _createVNode(_component_v_text_field, {\n          type: \"password\",\n          modelValue: $setup.password.value.value,\n          \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.password.value.value = $event),\n          counter: 32,\n          \"error-messages\": $setup.password.errorMessage.value,\n          label: \"Password\"\n        }, null, 8\n        /* PROPS */\n        , [\"modelValue\", \"error-messages\"]), _createVNode(_component_v_text_field, {\n          type: \"password\",\n          modelValue: $setup.confirmpassword.value.value,\n          \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $setup.confirmpassword.value.value = $event),\n          \"error-messages\": $setup.confirmpassword.errorMessage.value,\n          label: \"Confirm Password\"\n        }, null, 8\n        /* PROPS */\n        , [\"modelValue\", \"error-messages\"]), _createVNode(_component_v_btn, {\n          class: \"me-4\",\n          type: \"submit\"\n        }, {\n          default: _withCtx(() => [_createTextVNode(\" submit \")]),\n          _: 1\n          /* STABLE */\n\n        }), _createVNode(_component_v_btn, {\n          onClick: $setup.handleReset\n        }, {\n          default: _withCtx(() => [_createTextVNode(\" clear \")]),\n          _: 1\n          /* STABLE */\n\n        }, 8\n        /* PROPS */\n        , [\"onClick\"])], 32\n        /* HYDRATE_EVENTS */\n        )]),\n        _: 1\n        /* STABLE */\n\n      })]),\n      _: 1\n      /* STABLE */\n\n    })])]),\n    _: 1\n    /* STABLE */\n\n  });\n}","map":{"version":3,"mappings":";;;;gEAOsBA,oBAAiB,IAAjB,EAAiB,IAAjB,EAAI,UAAJ,EAAY;AAAA;AAAZ;;;;;;;;;;;;;uBANpBC,aAmCQC,gBAnCR,EAmCQ,IAnCR,EAmCQ;sBAlCJ,MAiCU,CAjCVF,oBAiCU,SAjCV,EAiCU,IAjCV,EAiCU,CAhCNG,aA+BcC,sBA/Bd,EA+Bc;MA/BDC,KAAK,EAAC;IA+BL,CA/Bd,EAAkC;wBAC9B,MA6BS,CA7BTF,aA6BSG,iBA7BT,EA6BS;QA7BDD,KAAK,EAAC;MA6BL,CA7BT,EAA+B;0BAE3B,MA0BO,CA1BPL,oBA0BO,MA1BP,EA0BO;UA1BAO,QAAM,wDAAUC,2CAAV,EAAgB,WAAhB;QA0BN,CA1BP,GACIC,YACAN,aACkDO,uBADlD,EACkD;sBAD3BC,YAAKC,KAAL,CAAWA,KACgB;qEAD3BD,YAAKC,KAAL,CAAWA,QAAKC,OACW;UADRC,OAAO,EAAE,EACD;UADM,kBAAgBH,YAAKI,YAAL,CAAkBH,KACxC;UAA9CI,KAAK,EAAC,MAAwC;UAAjCX,KAAK,EAAC;QAA2B,CADlD;;QAAA,qCAGAF,aACoCO,uBADpC,EACoC;sBADbC,aAAMC,KAAN,CAAYA,KACC;qEADbD,aAAMC,KAAN,CAAYA,QAAKC,OACJ;UADOC,OAAO,EAAE,EAChB;UADqB,kBAAgBH,aAAMI,YAAN,CAAmBH,KACxD;UAAhCI,KAAK,EAAC;QAA0B,CADpC;;QAAA,qCAGAb,aACmCO,uBADnC,EACmC;sBADZC,aAAMC,KAAN,CAAYA,KACA;qEADZD,aAAMC,KAAN,CAAYA,QAAKC,OACL;UADQ,kBAAgBF,aAAMI,YAAN,CAAmBH,KAC3C;UAA/BI,KAAK,EAAC;QAAyB,CADnC;;QAAA,qCAGAb,aACkFO,uBADlF,EACkF;UADpEO,IAAI,EAAC,UAC+D;sBAD3CN,gBAASC,KAAT,CAAeA,KAC4B;qEAD3CD,gBAASC,KAAT,CAAeA,QAAKC,OACuB;UADpBC,OAAO,EAAE,EACW;UAA7E,kBAAgBH,gBAASI,YAAT,CAAsBH,KAAuC;UAAhCI,KAAK,EAAC;QAA0B,CADlF;;QAAA,qCAGAb,aACiGO,uBADjG,EACiG;UADnFO,IAAI,EAAC,UAC8E;sBAD1DN,uBAAgBC,KAAhB,CAAsBA,KACoC;qEAD1DD,uBAAgBC,KAAhB,CAAsBA,QAAKC,OAC+B;UAA5F,kBAAgBF,uBAAgBI,YAAhB,CAA6BH,KAA+C;UAAxCI,KAAK,EAAC;QAAkC,CADjG;;QAAA,qCAIAb,aAEQe,gBAFR,EAEQ;UAFDb,KAAK,EAAC,MAEL;UAFYY,IAAI,EAAC;QAEjB,CAFR;4BAAkC,MAElC,kBAFkC,WAElC;;;;SAFA,GAIAd,aAEQe,gBAFR,EAEQ;UAFAC,OAAK,EAAER;QAEP,CAFR,EAA0B;4BAAE,MAE5B,kBAF4B,UAE5B,EAF0B;;;;QAAA,CAA1B;;QAAA,eAtBJ;;QAAA,CA0BO,EA5BoB;;;;MAAA,CAA/B,CA6BS,EA9BqB;;;;IAAA,CAAlC,CAgCM,CAjCV,CAiCU,EACN;;;;EAAA,CAnCR","names":["_createElementVNode","_createBlock","_component_v_app","_createVNode","_component_v_container","class","_component_v_card","onSubmit","$options","_hoisted_1","_component_v_text_field","$setup","value","$event","counter","errorMessage","label","type","_component_v_btn","onClick"],"sourceRoot":"","sources":["C:\\Users\\Sans\\Downloads\\Shopping-Website\\Shopping-Website\\src\\views\\Signup.vue"],"sourcesContent":["<template>\r\n  <v-app>\r\n      <section>\r\n          <v-container class=\"center-screen\">\r\n              <v-card class=\"container-class\">\r\n\r\n                  <form @submit.prevent=\"submit\">\r\n                      <h2> Signup </h2>\r\n                      <v-text-field v-model=\"name.value.value\" :counter=\"30\" :error-messages=\"name.errorMessage.value\"\r\n                          label=\"Name\" class=\"textfield\"></v-text-field>\r\n\r\n                      <v-text-field v-model=\"phone.value.value\" :counter=\"10\" :error-messages=\"phone.errorMessage.value\"\r\n                          label=\"Username\"></v-text-field>\r\n\r\n                      <v-text-field v-model=\"email.value.value\" :error-messages=\"email.errorMessage.value\"\r\n                          label=\"E-mail\" ></v-text-field>\r\n\r\n                      <v-text-field type=\"password\" v-model=\"password.value.value\" :counter=\"32\"\r\n                          :error-messages=\"password.errorMessage.value\" label=\"Password\"></v-text-field>\r\n\r\n                      <v-text-field type=\"password\" v-model=\"confirmpassword.value.value\"\r\n                          :error-messages=\"confirmpassword.errorMessage.value\" label=\"Confirm Password\"></v-text-field>\r\n\r\n\r\n                      <v-btn class=\"me-4\" type=\"submit\">\r\n                          submit\r\n                      </v-btn>\r\n\r\n                      <v-btn @click=\"handleReset\">\r\n                          clear\r\n                      </v-btn>\r\n\r\n                  </form>\r\n              </v-card>\r\n          </v-container>\r\n      </section>\r\n  </v-app>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { ref } from 'vue'\r\nimport { useField, useForm } from 'vee-validate'\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  setup() {\r\n      const { handleSubmit, handleReset } = useForm({\r\n          validationSchema: {\r\n              name(value) {\r\n                  if (value?.length >= 2) return true\r\n\r\n                  return 'Name needs to be at least 2 characters.'\r\n              },\r\n\r\n\r\n              phone(value) {\r\n                  if (value?.length >= 2) return true\r\n\r\n                  return 'Phone number needs to be at least 2 Characters.'\r\n              },\r\n              email(value) {\r\n                  if (/^[a-z.-]+@[a-z.-]+\\.[a-z]+$/i.test(value)) return true\r\n\r\n                  return 'Must be a valid e-mail.'\r\n              },\r\n              password(value) {\r\n                  if (value?.length >= 8) return true\r\n\r\n                  return 'Must be a valid password.'\r\n              },\r\n\r\n              confirmpassword(value) {\r\n                  if (password.value.value === value) return true\r\n                  return \"Passwords don't match.\"\r\n              },\r\n\r\n              select(value) {\r\n                  if (value) return true\r\n\r\n                  return 'Select an item.'\r\n              },\r\n              checkbox(value) {\r\n                  if (value === '1') return true\r\n\r\n                  return 'Must be checked.'\r\n              },\r\n          },\r\n      })\r\n      const name = useField('name')\r\n      const username = useField('name')\r\n      const phone = useField('phone')\r\n      const email = useField('email')\r\n      const password = useField('password')\r\n      const confirmpassword = useField('confirmpassword')\r\n      const select = useField('select')\r\n      const checkbox = useField('checkbox')\r\n\r\n\r\n\r\n      const submit = handleSubmit(values => {\r\n          alert(JSON.stringify(values, null, 2))\r\n      })\r\n\r\n\r\n      return { name, phone, confirmpassword, password, username, email, select, checkbox, submit, handleReset }\r\n  },\r\n  methods: {\r\n      async init() {\r\n          this.signup = await axios.get('http://localhost:5000/api/users/register')\r\n      },\r\n\r\n      submit() {\r\n          router.post('/register', (req, res) => {\r\n              let {\r\n                  name,\r\n                  username,\r\n                  email,\r\n                  password,\r\n                  confirm_password\r\n              } = req.body\r\n              if (password !== confirm_password) {\r\n                  return res.status(400).json({\r\n                      msg: \"Passwords do not match.\"\r\n                  });\r\n              }\r\n\r\n              // Check for unique username\r\n              User.findOne({\r\n                  username: username\r\n              }).then(user => {\r\n                  if (user) {\r\n                      return res.status(400).json({\r\n                          msg: \"Username is already taken.\"\r\n                      });\r\n                  }\r\n              })\r\n\r\n              // Check for unique email\r\n              User.findOne({ email: email }).then(user => {\r\n                  if (user) {\r\n                      return res.status(400).json({\r\n                          msg: \"Email is already registered. Did you forget your password?\"\r\n                      });\r\n                  }\r\n              });\r\n\r\n              // If no error, then data is valid and we can register the user\r\n              let newUser = new User({\r\n                  name,\r\n                  username,\r\n                  password,\r\n                  email\r\n              });\r\n\r\n              // Hash the password\r\n              bcrypt.genSalt(10, (err, salt) => {\r\n                  bcrypt.hash(newUser.password, salt, (err, hash) => {\r\n                      if (err) throw err;\r\n                      newUser.password = hash;\r\n                      newUser.save().then(user => {\r\n                          return res.status(201).json({\r\n                              msg: \"User is now registered!!!\"\r\n                          });\r\n                      });\r\n                  });\r\n              });\r\n          });\r\n      }\r\n  }\r\n\r\n\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.center-screen {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  text-align: center;\r\n  min-height: 100vh;\r\n}\r\n\r\nsection {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  padding-top: 30px;\r\n  min-height: 100vh;\r\n  width: 100%;\r\n  background-image: url(\"@/assets/img/heroAbout.jpg\");\r\n  background-position: center;\r\n  background-size: cover;\r\n\r\n}\r\n\r\n.container-class {\r\n  position: relative;\r\n  width: 500px;\r\n  height: 500px;\r\n  background: transparent;\r\n  border: 2px solid rgba(255, 255, 255, 0.5);\r\n  border-radius: 20px;\r\n  backdrop-filter: blur(60px);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\nh2 {\r\n  font-size: 2em;\r\n  color: #ffffff;\r\n  text-align: center;\r\n  font-weight:bolder;\r\n}\r\n\r\nform {\r\n  color: white;\r\n  font-weight: bolder;\r\n  width: 60%;\r\n\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}